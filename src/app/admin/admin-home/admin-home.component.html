<mat-toolbar>ng-killer - Administration</mat-toolbar>

<div class="container">
  <mat-card>
    <mat-form-field>
        <input matInput 
          placeholder="Recherche"
          [(ngModel)]="searchTxt">
    </mat-form-field>
  </mat-card>

  <mat-tab-group>
    <mat-tab label="Parties">
      <mat-card>
        <form class="" (ngSubmit)="onSubmitNewGame()">
            <mat-form-field>
                <input matInput name="newName"
                  placeholder="Nouvelle partie"
                  [(ngModel)]="newName">
            </mat-form-field>
          </form>
        <mat-expansion-panel *ngFor="let game of filteredGames()">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{game.name}}
            </mat-panel-title>
            <mat-panel-description>
              
            </mat-panel-description>
          </mat-expansion-panel-header>
          
          
          <a mat-raised-button color="accent" target="_blank" routerLink="/journal/{{game._id}}">
            Journal
          </a>
          <a mat-raised-button color="accent" target="_blank" routerLink="/admin/{{game._id}}">
            Administrer
          </a>
          <button mat-raised-button color="accent" (click)="deleteGame(game)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-expansion-panel>
      </mat-card>
    </mat-tab>
    <mat-tab label="Missions">
        <mat-card>
          <form class="" (ngSubmit)="onSubmitNewMission()">
            <mat-form-field>
                <input matInput name="newMission"
                  placeholder="Nouvelle mission"
                  [(ngModel)]="newMission">
            </mat-form-field>
          </form>
          <mat-list dense>
            <mat-list-item *ngFor="let mission of filteredMissions()">
                <input matInput [(ngModel)]="mission.title" (change)="saveMission(mission)">

                <mat-form-field style="width: 40%!important">
                  <mat-select [(ngModel)]="mission.difficulty" (change)="saveMission(mission)">
                    <mat-option value="action">Action</mat-option>
                    <mat-option value="manipulation">Manipulation</mat-option>
                    <mat-option value="hardcore">Hardcore</mat-option>
                  </mat-select>
                </mat-form-field>
            </mat-list-item>
          </mat-list>
        </mat-card>
    </mat-tab>
  </mat-tab-group>
      
</div>
